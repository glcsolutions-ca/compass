{
  "version": "1",
  "riskTierRules": {
    "t3": [
      ".github/workflows/*.yml",
      ".github/workflows/*.yaml",
      ".github/policy/**",
      ".github/dependabot.yml",
      "scripts/ci/**",
      "scripts/deploy/**",
      "scripts/infra/**",
      "apps/api/src/features/auth/**",
      "infra/**",
      "infra/azure/**",
      "infra/identity/**",
      "migrations/**",
      "deploy/**"
    ],
    "t2": ["apps/web/**"],
    "t1": ["apps/api/**", "apps/worker/**", "packages/**"],
    "deps": ["package.json", "pnpm-lock.yaml", "pnpm-workspace.yaml", "**/package.json"],
    "t0": ["**"]
  },
  "mergePolicy": {
    "t3": {
      "requiredChecks": ["risk-policy-gate", "ci-pipeline", "harness-smoke", "codex-review"]
    },
    "t2": {
      "requiredChecks": ["risk-policy-gate", "ci-pipeline", "browser-evidence"]
    },
    "t1": {
      "requiredChecks": ["risk-policy-gate", "ci-pipeline"]
    },
    "deps": {
      "requiredChecks": ["risk-policy-gate", "ci-pipeline"]
    },
    "t0": {
      "requiredChecks": ["risk-policy-gate", "ci-pipeline"]
    }
  },
  "docsDriftRules": {
    "blockingPaths": [
      ".github/workflows/*.yml",
      ".github/workflows/*.yaml",
      ".github/policy/**",
      "scripts/ci/**",
      "scripts/deploy/**",
      "scripts/infra/**",
      "infra/azure/**",
      "infra/identity/**",
      "deploy/**"
    ],
    "docsCriticalPaths": [
      "contracts/**",
      "schemas/**",
      "openapi/**",
      "proto/**",
      "migrations/**",
      "config/**",
      "infra/**",
      "infra/azure/**",
      "infra/identity/**",
      "packages/contracts/**",
      "packages/contracts/openapi/**"
    ],
    "docTargets": [
      "docs/merge-policy.md",
      "docs/branch-protection.md",
      ".github/policy/README.md",
      ".github/workflows/README.md",
      "docs/contracts/**",
      "docs/runbooks/**"
    ]
  },
  "uiEvidenceRules": {
    "paths": ["apps/web/**"],
    "requiredFlowIds": ["compass-smoke"]
  },
  "reviewPolicy": {
    "codexReviewEnabled": false
  },
  "staleRules": {
    "requireHeadShaMatch": true,
    "requireTierMatch": true
  }
}
