NODE_ENV=development
API_PORT=3001
API_HOST=0.0.0.0
LOG_LEVEL=info
# Optional. When set, the API enables PostgreSQL connectivity for runtime/integration checks.
DATABASE_URL=postgres://compass:compass@localhost:5432/compass
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=10000
DB_CONNECTION_TIMEOUT_MS=2000
DB_SSL_MODE=disable
DB_SSL_REJECT_UNAUTHORIZED=true

# Entra/OAuth verification contract (use Entra values in production)
AUTH_ISSUER=https://compass.local/auth
AUTH_AUDIENCE=api://compass-api
# AUTH_JWKS_URI=https://login.microsoftonline.com/<tenant-id>/discovery/v2.0/keys
# For local development/test only.
AUTH_LOCAL_JWT_SECRET=compass-dev-local-jwt-secret
AUTH_CLOCK_TOLERANCE_SECONDS=60

# Strict tenant and client controls (comma-separated IDs)
AUTH_ACTIVE_TENANT_IDS=tenant-a
AUTH_ALLOWED_CLIENT_IDS=web-client,integration-client
AUTH_ALLOW_JIT_USERS=true

# In-memory fallback assignments used when Postgres-backed auth tables are not configured.
AUTH_ASSIGNMENTS_JSON=[{"tenantId":"tenant-a","subjectType":"user","subjectId":"user-oid-1","permissions":["profile.read"]}]

# SCIM OAuth2 client credentials fallback (for local/dev)
AUTH_SCIM_CLIENTS_JSON=[{"tenantId":"tenant-a","clientId":"scim-client","clientSecret":"scim-client-secret-123456"}]

# OAuth token issuer used by /v1/oauth/token
OAUTH_TOKEN_ISSUER=https://compass.local/oauth
OAUTH_TOKEN_AUDIENCE=compass-scim
OAUTH_TOKEN_SIGNING_SECRET=compass-dev-scim-signing-secret
OAUTH_TOKEN_EXPIRES_IN_SECONDS=3600
